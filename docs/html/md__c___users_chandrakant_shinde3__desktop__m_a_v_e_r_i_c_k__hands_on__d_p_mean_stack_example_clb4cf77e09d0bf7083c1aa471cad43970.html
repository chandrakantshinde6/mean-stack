<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>end to end lab: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">end to end lab
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p  align="center"></p>
<p ><img src="https://i.imgur.com/J0jv1Sz.png" alt="critters" width="240" height="240" class="inline"/> </p><h1 align="center">Critters</h1>
<blockquote class="doxtable">
<p >&zwj;Critters is a plugin that inlines your app's <a href="https://www.smashingmagazine.com/2015/08/understanding-critical-css/">critical CSS</a> and lazy-loads the rest. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md3745"></a>
critters &lt;a href="https://www.npmjs.org/package/critters" &gt;&lt;img src="https://img.shields.io/npm/v/critters.svg" alt="npm"/&gt;&lt;/a&gt;</h2>
<p >It's a little different from other options, because it <b>doesn't use a headless browser</b> to render content. This tradeoff allows Critters to be very <b>fast and lightweight</b>. It also means Critters inlines all CSS rules used by your document, rather than only those needed for above-the-fold content. For alternatives, see Similar Libraries.</p>
<p >Critters' design makes it a good fit when inlining critical CSS for prerendered/SSR'd Single Page Applications. It was developed to be an excellent compliment to <a href="https://github.com/GoogleChromeLabs/prerender-loader">prerender-loader</a>, combining to dramatically improve first paint time for most Single Page Applications.</p>
<h2><a class="anchor" id="autotoc_md3746"></a>
Features</h2>
<ul>
<li>Fast - no browser, few dependencies</li>
<li>Integrates with Webpack <a href="https://github.com/GoogleChromeLabs/critters/tree/main/packages/critters-webpack-plugin">critters-webpack-plugin</a></li>
<li>Supports preloading and/or inlining critical fonts</li>
<li>Prunes unused CSS keyframes and media queries</li>
<li>Removes inlined CSS rules from lazy-loaded stylesheets</li>
</ul>
<h2><a class="anchor" id="autotoc_md3747"></a>
Installation</h2>
<p >First, install Critters as a development dependency:</p>
<div class="fragment"><div class="line">npm i -D critters</div>
</div><!-- fragment --><p >or</p>
<div class="fragment"><div class="line">yarn add -D critters</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3748"></a>
Simple Example</h2>
<div class="fragment"><div class="line">import Critters from &#39;critters&#39;;</div>
<div class="line"> </div>
<div class="line">const critters = new Critters({</div>
<div class="line">  // optional configuration (see below)</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">const html = `</div>
<div class="line">  &lt;style&gt;</div>
<div class="line">    .red { color: red }</div>
<div class="line">    .blue { color: blue }</div>
<div class="line">  &lt;/style&gt;</div>
<div class="line">  &lt;div class=&quot;blue&quot;&gt;I&#39;m Blue&lt;/div&gt;</div>
<div class="line">`;</div>
<div class="line"> </div>
<div class="line">const inlined = await critters.process(html);</div>
<div class="line"> </div>
<div class="line">console.log(inlined);</div>
<div class="line">// &quot;&lt;style&gt;.blue{color:blue}&lt;/style&gt;&lt;div class=\&quot;blue\&quot;&gt;I&#39;m Blue&lt;/div&gt;&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3749"></a>
Usage with webpack</h2>
<p >Critters is also available as a Webpack plugin called <a href="https://www.npmjs.org/package/critters-webpack-plugin">critters-webpack-plugin</a>. <a href="https://www.npmjs.org/package/critters-webpack-plugin"><img src="https://img.shields.io/npm/v/critters-webpack-plugin.svg" alt="npm" style="pointer-events: none;" class="inline"/></a></p>
<p >The Webpack plugin supports the same configuration options as the main <code>critters</code> package:</p>
<div class="fragment"><div class="line">// webpack.config.js</div>
<div class="line">+const Critters = require(&#39;critters-webpack-plugin&#39;);</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line">  plugins: [</div>
<div class="line">+    new Critters({</div>
<div class="line">+      // optional configuration (see below)</div>
<div class="line">+    })</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p >That's it! The resultant html will have its critical CSS inlined and the stylesheets lazy-loaded.</p>
<h2><a class="anchor" id="autotoc_md3750"></a>
Usage</h2>
<h3><a class="anchor" id="autotoc_md3751"></a>
Critters</h3>
<p >All optional. Pass them to <code>new Critters({ ... })</code>.</p>
<h4><a class="anchor" id="autotoc_md3752"></a>
Parameters</h4>
<ul>
<li><code>options</code> <br  />
</li>
</ul>
<h4><a class="anchor" id="autotoc_md3753"></a>
Properties</h4>
<ul>
<li><code>path</code> <b><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></b> Base path location of the CSS files *(default: &lsquo;&rsquo;'<code>)* *</code>publicPath<code>**[String](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String</a>)** Public path of the CSS resources. This prefix is removed from the href *(default:</code>''<code>)* *</code>external<code>**[Boolean](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean</a>)** Inline styles from external stylesheets *(default:</code>true<code>)* *</code>inlineThreshold<code>**[Number](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number</a>)** Inline external stylesheets smaller than a given size *(default:</code>0<code>)* *</code>minimumExternalSize<code>**[Number](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number</a>)** If the non-critical external stylesheet would be below this size, just inline it *(default:</code>0<code>)* *</code>pruneSource<code>**[Boolean](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean</a>)** Remove inlined rules from the external stylesheet *(default:</code>false<code>)* *</code>mergeStylesheets<code>**[Boolean](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean</a>)** Merged inlined stylesheets into a single</code>&lt;style&gt;<code>tag *(default:</code>true<code>)* *</code>additionalStylesheets<code>**[Array](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array</a>)&lt;[String](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String</a>)&gt;** Glob for matching other stylesheets to be used while looking for critical CSS. *</code>preload<code>**[String](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String</a>)** Which [preload strategy](#preloadstrategy) to use *</code>noscriptFallback<code>**[Boolean](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean</a>)** Add</code>&lt;noscript&gt;<code>fallback to JS-based strategies *</code>inlineFonts<code>**[Boolean](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean</a>)** Inline critical font-face rules *(default:</code>false<code>)* *</code>preloadFonts<code>**[Boolean](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean</a>)** Preloads critical fonts *(default:</code>true<code>)* *</code>fonts<code>**[Boolean](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean</a>)** Shorthand for setting</code>inlineFonts<code>+</code>preloadFonts<code>* Values: *</code>true<code>to inline critical font-face rules and preload the fonts *</code>false<code>to don't inline any font-face rules and don't preload fonts *</code>keyframes<code>**[String](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String</a>)** Controls which keyframes rules are inlined.* Values: *</code>"critical"<code>: *(default)* inline keyframes rules used by the critical CSS *</code>"all"<code>inline all keyframes rules *</code>"none"<code>remove all keyframes rules *</code>compress<code>**[Boolean](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean</a>)** Compress resulting critical CSS *(default:</code>true<code>)* *</code>logLevel<code>**[String](<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String</a>)** Controls [log level](#loglevel) of the plugin *(default:</code>"info"<code>)* *</code>logger` <b><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></b> Provide a custom logger interface logger</li>
</ul>
<h3><a class="anchor" id="autotoc_md3754"></a>
Logger</h3>
<p >Custom logger interface:</p>
<p >Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></p>
<h4><a class="anchor" id="autotoc_md3755"></a>
Properties</h4>
<ul>
<li><code>trace</code> <b>function (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</b> Prints a trace message</li>
<li><code>debug</code> <b>function (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</b> Prints a debug message</li>
<li><code>info</code> <b>function (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</b> Prints an information message</li>
<li><code>warn</code> <b>function (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</b> Prints a warning message</li>
<li><code>error</code> <b>function (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</b> Prints an error message</li>
</ul>
<h3><a class="anchor" id="autotoc_md3756"></a>
LogLevel</h3>
<p >Controls log level of the plugin. Specifies the level the logger should use. A logger will not produce output for any log level beneath the specified level. Available levels and order are:</p>
<ul>
<li>**"info"** *(default)*</li>
<li>**"warn"**</li>
<li>**"error"**</li>
<li>**"trace"**</li>
<li>**"debug"**</li>
<li>**"silent"**</li>
</ul>
<p >Type: (<code>"info"</code> | <code>"warn"</code> | <code>"error"</code> | <code>"trace"</code> | <code>"debug"</code> | <code>"silent"</code>)</p>
<h3><a class="anchor" id="autotoc_md3757"></a>
PreloadStrategy</h3>
<p >The mechanism to use for lazy-loading stylesheets.</p>
<p >Note: <code>JS</code> indicates a strategy requiring JavaScript (falls back to <code>&lt;noscript&gt;</code> unless disabled).</p>
<ul>
<li><b>default:</b> Move stylesheet links to the end of the document and insert preload meta tags in their place.</li>
<li>**"body":** Move all external stylesheet links to the end of the document.</li>
<li>**"media":** Load stylesheets asynchronously by adding <code>media="not x"</code> and removing once loaded. <code>JS</code></li>
<li>**"swap":** Convert stylesheet links to preloads that swap to <code>rel="stylesheet"</code> once loaded (<a href="https://www.filamentgroup.com/lab/load-css-simpler/#the-code">details</a>). <code>JS</code></li>
<li>**"swap-high":** Use <code>&lt;link rel="alternate stylesheet preload"&gt;</code> and swap to <code>rel="stylesheet"</code> once loaded (<a href="http://filamentgroup.github.io/loadCSS/test/new-high.html">details</a>). <code>JS</code></li>
<li>**"js":** Inject an asynchronous CSS loader similar to <a href="https://github.com/filamentgroup/loadCSS">LoadCSS</a> and use it to load stylesheets. <code>JS</code></li>
<li>**"js-lazy":** Like <code>"js"</code>, but the stylesheet is disabled until fully loaded.</li>
<li><b>false:</b> Disables adding preload tags.</li>
</ul>
<p >Type: (default | <code>"body"</code> | <code>"media"</code> | <code>"swap"</code> | <code>"swap-high"</code> | <code>"js"</code> | <code>"js-lazy"</code>)</p>
<h2><a class="anchor" id="autotoc_md3758"></a>
Similar Libraries</h2>
<p >There are a number of other libraries that can inline Critical CSS, each with a slightly different approach. Here are a few great options:</p>
<ul>
<li><a href="https://github.com/addyosmani/critical">Critical</a></li>
<li><a href="https://github.com/pocketjoso/penthouse">Penthouse</a></li>
<li><a href="https://github.com/lukeed/webpack-critical">webpack-critical</a></li>
<li><a href="https://github.com/nrwl/webpack-plugin-critical">webpack-plugin-critical</a></li>
<li><a href="https://github.com/anthonygore/html-critical-webpack-plugin">html-critical-webpack-plugin</a></li>
<li><a href="https://github.com/stereobooster/react-snap">react-snap</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md3759"></a>
License</h2>
<p >[Apache 2.0](LICENSE)</p>
<p >This is not an official Google product. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
